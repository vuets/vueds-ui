{{##$:
var common = require('../common'), c = common.c;
#}}

{{%
var pager = it.pager, 
    pojo = it.pojo || 'pojo', 
    attrs = it.attrs, 
    item_attrs = it.item_attrs,
    content = it.body || '<content></content>'; 
%}}

<ul class="ui{{? it.custom_list_class }} {{it.custom_list_class}}{{??}} small divided selection{{?}}{{? it.list_class }} {{it.list_class}}{{?}} list"
  {{% if (attrs) { for(var i in attrs) { %}}
  {{i}}="{{attrs[i]}}"
  {{% } } %}}>
  <li class="item{{? it.item_class }} {{it.item_class}}{{?}}"
      v-repeat="{{pojo}}:{{pager}}.array"
      {{% if (item_attrs) { for(var i in item_attrs) { %}}
      {{i}}="{{item_attrs[i]}}"
      {{% } } %}}
      {{? it.click_to_select }}
      v-xon="click8:{{pager}}.$handle(11, {{pojo}})"
      {{?}}
      v-show="({{pojo}}._.lstate & {{c.LSTATE_INCLUDED}}){{? it.item_show }}{{common.exprs(it.item_show, pojo, ' && ', true)}}{{?}}"
      v-class="active:({{pojo}}._.lstate & {{c.LSTATE_SELECTED}}){{? it.item_vclass }}{{common.kv_exprs(it.item_vclass, pojo, ', ', true, ' && ')}}{{?}}">
    {{content}}
    <div v-show="!({{pager}}.{{pojo}}._.vstate & {{c.STATE_UPDATE}})
        && {{pojo}}._.msg && {{pojo}}._.state & {{c.MASK_STATUS}}">
      <div class="ui message"
          v-class="success:{{pojo}}._.state & {{c.STATE_SUCCESS}}, 
                   error:{{pojo}}._.state & {{c.STATE_ERROR}},
                   warning:{{pojo}}._.state & {{c.STATE_WARNING}}">
        <i class="close icon" v-xon="click:{{pojo}}._.msg = null"></i>
        <span v-text="{{pojo}}._.msg"></span>
      </div>
    </div>
  </li>
</ul>
