{{##$:
var common = require('../common'),
    default_obj = common.default_obj;
#}}

{{##field_string(it, f, d, pojo, handler, attrs, tag, icon, icon_wrap, prefix, suffix, filter):
<div{{? tag }}><{{tag}}{{?}}
    dtap="1"
    v-xon="dtap:{{pojo}}._.vprops.f{{f}} ^= 1"
    v-show="!{{pojo}}._.vprops.f{{f}}"
    {{% for(var i in attrs) { %}}
    {{i}}="{{attrs[i]}}"
    {{% } %}}
    >{{prefix}}{{? icon }}<i class="{{icon}}">{{? !icon_wrap }}</i>{{?}}{{?}}<span v-text="{{pojo}}._.vprops.{{f}}{{? filter }}| {{filter}}{{?}}"></span>{{? icon && icon_wrap }}</i>{{?}}{{suffix}}
{{? tag }}</{{tag}}>{{?}}</div>
<div class="mdl small input" v-show="{{pojo}}._.vprops.f{{f}}">
  <input type="text" esuggest="1"
      v-suggest="{{it.suggest_arg}}:{{pojo}}._.vprops.{{f}}"
      v-xon="suggestcomplete:{{handler}}({{it.handler_id}}, {{pojo}})"/>
  <div class="bottom-right icons">
    <i class="delete icon" v-xon="click:{{pojo}}._.vprops.f{{f}} ^= 1"></i>
  </div>
</div>
#}}

{{% 
    var f = it.field, 
    descriptor = it.$initvar, 
    d = d = descriptor[f],
    pojo = it.pojo || 'pojo',
    handler = it.handler || 'handle';
%}}
{{% out += field_string(it, f, d, pojo, handler, it.$attrs || default_obj, it.$icon ? null : it.$tag, it.$icon, it.$icon_wrap, it.$prefix || '', it.$suffix || '', it.$filter); %}}
